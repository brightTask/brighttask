<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Service Page</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<style>
    .navbar {
        background-color: #333;
        color: #fff;
    }
    .service-item {
        border: 1px solid #ccc;
        padding: 10px;
        margin: 10px;
    }
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Service Page</a>
        <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
            <li class="nav-item"><a class="nav-link" href="services.html">Services</a></li>
            <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        </ul>
    </div>
</nav>

<div class="container">
    <!-- Service Items will be rendered here dynamically -->
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    fetch('/api/service/:id')
        .then(response => response.json())
        .then(data => {
            const services = data.service;
            const container = document.querySelector('.container');

            let serviceItems = '';

            services.forEach(service => {
                serviceItems += `
                    <div class="service-item">
                        <h2>${service.name}</h2>
                        <p>${service.description}</p>
                        <p><strong>Price:</strong> ${service.price} ${service.priceUnit}</p>
                        <p><strong>Requirements:</strong> ${service.requirements.join(', ')}</p>
                        <p><strong>Available:</strong> ${service.available ? 'Yes' : 'No'}</p>
                        <img src="${service.icon}" alt="${service.name}">
                        <p><strong>Category:</strong> ${service.category.name}</p>
                        <h3>Service Providers:</h3>
                        <ul>
                            ${service.serviceProviders.map(provider => `
                                <li>
                                    <h4>${provider.user.username}</h4>
                                    <p>${provider.bio}</p>
                                    <p><strong>Rating:</strong> ${provider.rating}</p>
                                    <p><strong>Location:</strong> ${provider.location}</p>
                                    <p><strong>Created At:</strong> ${provider.createdAt}</p>
                                    <p><strong>Tool Requirements:</strong> ${provider.HustlerService.requirements.tools.join(', ')}</p>
                                    <p><strong>Material Requirements:</strong> ${provider.HustlerService.requirements.materials.join(', ')}</p>
                                    <img src="${provider.user.profile_pic}" alt="${provider.user.username}">
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
            });

            container.innerHTML = serviceItems;
        })
        .catch(error => console.error('Error fetching data:', error));
</script>

</body>
</html>