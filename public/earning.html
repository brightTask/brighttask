<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Earnings Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        .stat-value { font-size: 1.5rem; font-weight: 600; }
        .stat-label { color: #6c757d; }
        .list-group-item { border: none; border-bottom: 1px solid #f1f1f1; }
        .list-group-item:last-child { border-bottom: none; }
        body::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body>
            <div class="col-lg-8 container-fluid m-2">
                <div class="card mb-4">
                    <div class="card-header">
                        Earnings Summary
                    </div>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-6 col-md-3 mb-3">
                                <div class="stat-value" id="totalEarnings">$0</div>
                                <div class="stat-label">Total Earnings</div>
                            </div>
                            <div class="col-6 col-md-3 mb-3">
                                <div class="stat-value" id="thisMonth">$0</div>
                                <div class="stat-label">This Month</div>
                            </div>
                            <div class="col-6 col-md-3 mb-3">
                                <div class="stat-value" id="thisWeek">$0</div>
                                <div class="stat-label">This Week</div>
                            </div>
                            <div class="col-6 col-md-3 mb-3">
                                <div class="stat-value" id="today">$0</div>
                                <div class="stat-label">Today</div>
                            </div>
                        </div>
                        <canvas id="earningsSummaryChart" height="120"></canvas>
                    </div>
                </div>
                <div class="card mb-4">
                    <div class="card-header">
                        Payments
                    </div>
                    <div class="card-body p-0">
                        <ul class="list-group list-group-flush" id="paymentsList"></ul>
                    </div>
                    <div class="card-footer text-end">
                        <button class="btn btn-outline-primary btn-sm">View All Payments</button>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        Withdrawals
                    </div>
                    <div class="card-body p-0">
                        <ul class="list-group list-group-flush" id="withdrawalsList"></ul>
                    </div>
                    <div class="card-footer text-end">
                        <button class="btn btn-outline-primary btn-sm">View All Withdrawals</button>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card mb-4">
                    <div class="card-header">
                        Earnings Breakdown
                    </div>
                    <div class="card-body">
                        <canvas id="earningsPieChart" height="180"></canvas>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        Payment Methods
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex align-items-center">
                                <i class="bi bi-bank2 me-2 text-primary"></i> Bank Account
                                <span class="ms-auto badge bg-success">Primary</span>
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <i class="bi bi-paypal me-2 text-info"></i> PayPal
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <i class="bi bi-credit-card me-2 text-warning"></i> Credit Card
                            </li>
                        </ul>
                        <button class="btn btn-outline-primary btn-sm mt-3">Manage Methods</button>
                    </div>
                </div>
            </div>
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>
    <script>
    // Sample JSON data
    const payments = [
        {
            task: "Logo Design",
            amount: 500,
            fee: 25,
            netAmount: 475,
            date: "2025-07-07"
        },
        {
            task: "Website Audit",
            amount: 700,
            fee: 35,
            netAmount: 665,
            date: "2024-05-20"
        },
        {
            task: "SEO Optimization",
            amount: 400,
            fee: 20,
            netAmount: 380,
            date: "2024-05-10"
        },
        {
            task: "Consultation",
            amount: 600,
            fee: 30,
            netAmount: 570,
            date: "2024-04-28"
        }
    ];

    const withdrawals = [
        {
            method: "Bank Transfer",
            amount: 500,
            fee: 10,
            netAmount: 490,
            status: "Paid",
            date: "2024-06-02"
        },
        {
            method: "PayPal",
            amount: 700,
            fee: 21,
            netAmount: 679,
            status: "Paid",
            date: "2024-05-21"
        },
        {
            method: "Bank Transfer",
            amount: 400,
            fee: 8,
            netAmount: 392,
            status: "Pending",
            date: "2024-05-11"
        },
        {
            method: "PayPal",
            amount: 600,
            fee: 18,
            netAmount: 582,
            status: "Paid",
            date: "2024-04-29"
        }
    ];

    // Earnings summary calculation
    function getSummary(payments) {
        const today = new Date().toISOString().slice(0, 10);
        const now = new Date();
        const thisMonth = now.getMonth();
        const thisYear = now.getFullYear();
        const weekStart = new Date(now);
        weekStart.setDate(now.getDate() - now.getDay());
        let total = 0, month = 0, week = 0, day = 0;
        payments.forEach(p => {
            total += p.netAmount;
            const d = new Date(p.date);
            if (d.getFullYear() === thisYear && d.getMonth() === thisMonth) month += p.netAmount;
            if (d >= weekStart) week += p.netAmount;
            if (p.date === today) day += p.netAmount;
        });
        return { total, month, week, day };
    }

    // Render summary
    const summary = getSummary(payments);
    document.getElementById('totalEarnings').textContent = `$${summary.total.toLocaleString()}`;
    document.getElementById('thisMonth').textContent = `$${summary.month.toLocaleString()}`;
    document.getElementById('thisWeek').textContent = `$${summary.week.toLocaleString()}`;
    document.getElementById('today').textContent = `$${summary.day.toLocaleString()}`;

    // Render Payments List
    const paymentsList = document.getElementById('paymentsList');
    payments.forEach(p => {
        const li = document.createElement('li');
        li.className = "list-group-item";
        li.innerHTML = `
            <div class="d-flex w-100 justify-content-between align-items-center">
                <div>
                    <div class="fw-semibold">${p.task}</div>
                    <small class="text-muted">${p.date}</small>
                </div>
                <div class="text-end">
                    <div><span class="text-success fw-bold">$${p.netAmount.toLocaleString()}</span></div>
                    <small class="text-muted">Gross: $${p.amount} | Fee: $${p.fee}</small>
                </div>
            </div>
        `;
        paymentsList.appendChild(li);
    });

    // Render Withdrawals List
    const withdrawalsList = document.getElementById('withdrawalsList');
    withdrawals.forEach(w => {
        const li = document.createElement('li');
        li.className = "list-group-item";
        let badgeClass = w.status === "Paid" ? "bg-success" : "bg-warning text-dark";
        li.innerHTML = `
            <div class="d-flex w-100 justify-content-between align-items-center">
                <div>
                    <div class="fw-semibold">${w.method}</div>
                    <small class="text-muted">${w.date}</small>
                </div>
                <div class="text-end">
                    <div><span class="fw-bold">$${w.netAmount.toLocaleString()}</span></div>
                    <small class="text-muted">Gross: $${w.amount} | Fee: $${w.fee}</small>
                    <div><span class="badge ${badgeClass}">${w.status}</span></div>
                </div>
            </div>
        `;
        withdrawalsList.appendChild(li);
    });

    // Earnings Summary Chart
    const earningsSummaryChart = new Chart(document.getElementById('earningsSummaryChart').getContext('2d'), {
        type: 'bar',
        data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [{
                label: 'Earnings',
                data: [80, 60, 90, 70, 100, 120, 80],
                backgroundColor: '#00bfa6',
                borderRadius: 8
            }]
        },
        options: {
            plugins: { legend: { display: false } },
            scales: {
                x: { grid: { display: false } },
                y: { grid: { color: '#e5e7eb' }, beginAtZero: true }
            }
        }
    });

    // Earnings Pie Chart
    const earningsPieChart = new Chart(document.getElementById('earningsPieChart').getContext('2d'), {
        type: 'doughnut',
        data: {
            labels: payments.map(p => p.task),
            datasets: [{
                data: payments.map(p => p.netAmount),
                backgroundColor: ['#00bfa6', '#1f2937', '#fbbf24', '#64748b'],
                borderWidth: 0
            }]
        },
        options: {
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom'
                }
            },
            cutout: '70%'
        }
    });
    </script>
</body>
</html>